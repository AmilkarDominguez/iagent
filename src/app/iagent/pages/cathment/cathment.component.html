<!-- header -->
<p-toolbar>
    <div class="p-toolbar-group-left">
        <p-button type="button" styleClass="p-button-danger p-button-outlined" (click)="visibleSidebar = true"
            icon="pi pi-bars"></p-button>
        <div class="ml-4 cursor-pointer" [routerLink]="['/home']">
            <i class="pi pi-arrow-left text-primary"></i>
        </div>
        <h3 class="ml-2">Crear captación</h3>
    </div>
    <div class="p-toolbar-group-right">
        <p-button icon="pi pi-times" styleClass="p-button-danger p-button-outlined p-button-rounded"
            [routerLink]="['/home']"></p-button>
    </div>
</p-toolbar>
<p-sidebar [(visible)]="visibleSidebar" [baseZIndex]="10000">
    <h3 style="font-weight:normal">Menú</h3>
    <app-opsidebar></app-opsidebar>
</p-sidebar>
<!-- end header -->
<p-toast></p-toast>

<p-confirmDialog [style]="{width: '50vw'}" [baseZIndex]="10000" [dismissableMask]="true">
    <ng-template pTemplate="header">
        <div class="grid w-full">
            <div class="col-12 text-center">
                <h1>REGISTRO EXITOSO!</h1>
                <p>En breve te llegarán los leads</p>
                <svg width="203" height="203" viewBox="0 0 203 203" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <g filter="url(#filter0_d_659_1237)">
                        <circle cx="101.5" cy="95.5" r="75.5" fill="#FEFFFF" />
                        <path d="M134.746 71.9062L87.5582 119.094L66.1094 97.6449" stroke="#FF666C"
                            stroke-width="6.38889" stroke-linecap="round" stroke-linejoin="round" />
                    </g>
                    <defs>
                        <filter id="filter0_d_659_1237" x="0.444447" y="0.833335" width="202.111" height="202.111"
                            filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                            <feFlood flood-opacity="0" result="BackgroundImageFix" />
                            <feColorMatrix in="SourceAlpha" type="matrix"
                                values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha" />
                            <feOffset dy="6.38889" />
                            <feGaussianBlur stdDeviation="12.7778" />
                            <feComposite in2="hardAlpha" operator="out" />
                            <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0" />
                            <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_659_1237" />
                            <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_659_1237"
                                result="shape" />
                        </filter>
                    </defs>
                </svg>
            </div>
        </div>
    </ng-template>

    <ng-template pTemplate="footer">
        <button pButton label="ACEPTAR" (click)="goLeadsPage()" class="p-button-rounded w-full"></button>
    </ng-template>
</p-confirmDialog>


<form autocomplete="off" [formGroup]="propetyForm" (ngSubmit)="register()">


    <div [ngSwitch]="pageActive">
        <!-- PropetyTypePage -->
        <div *ngSwitchCase="PageNames.PropetyTypePage">
            <div class="mt-6">
                <div class="grid">
                    <div class="col"></div>
                    <div class="col-12 sm:col-10 md:col-8 lg:col-4  text-center border-round bg-white">
                        <div class="grid  border-round surface-200 shadow-2">
                            <div class="col-12 ">
                                <div class="text-center">
                                    <h2 class="mb-0">Empecemos!</h2>
                                    <p>Elige el tipo de inmueble</p>
                                </div>

                                <div class="grid mt-4 mb-6">

                                    <div class="col-4 col-offset-1">
                                        <div class="bg-white border-round shadow-2 cursor-pointer"
                                            [ngClass]="[departmentCardStyle]" (click)="selectCardPropety(0)">
                                            <div class="card mx-4">
                                                <div class="flex">
                                                    <img src="./assets/icons/property_location.svg" alt="img">
                                                    <h4 class="ml-2">Departamento</h4>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-4 col-offset-2">
                                        <div class="bg-white border-round shadow-2 cursor-pointer"
                                            [ngClass]="[houseCardStyle]" (click)="selectCardPropety(1)">
                                            <div class="card mx-4">
                                                <div class="flex">
                                                    <img src="./assets/icons/house.svg" alt="img">
                                                    <h4 class="ml-2">Casa</h4>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-4 col-offset-1">
                                        <div class="bg-white border-round shadow-2 cursor-pointer"
                                            [ngClass]="[officeCardStyle]" (click)="selectCardPropety(2)">
                                            <div class="card mx-4">
                                                <div class="flex">
                                                    <img src="./assets/icons/office.svg" alt="img">
                                                    <h4 class="ml-2">Oficina</h4>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-4 col-offset-2">
                                        <div class="bg-white border-round shadow-2 cursor-pointer"
                                            [ngClass]="[terraintCardStyle]" (click)="selectCardPropety(3)">
                                            <div class="card mx-4">
                                                <div class="flex">
                                                    <img src="./assets/icons/terrain.svg" alt="img">
                                                    <h4 class="ml-2">Terreno</h4>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-4 col-offset-1">
                                        <div class="bg-white border-round shadow-2 cursor-pointer"
                                            [ngClass]="[barnCardStyle]" (click)="selectCardPropety(4)">
                                            <div class="card mx-4">
                                                <div class="flex">
                                                    <img src="./assets/icons/shed.svg" alt="img">
                                                    <h4 class="ml-2">Galpón</h4>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-4 col-offset-2">
                                        <div class="bg-white border-round shadow-2 cursor-pointer"
                                            [ngClass]="[comercialCardStyle]" (click)="selectCardPropety(5)">
                                            <div class="card mx-4">
                                                <div class="flex">
                                                    <img src="./assets/icons/store.svg" alt="img">
                                                    <h5 class="ml-2">Local comercial</h5>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="col-4 col-offset-1">
                                        <div class="bg-white border-round shadow-2 cursor-pointer"
                                            [ngClass]="[buildCardStyle]" (click)="selectCardPropety(6)">
                                            <div class="card mx-4">
                                                <div class="flex">
                                                    <img src="./assets/icons/build.svg" alt="img">
                                                    <h4 class="ml-2">Edificio</h4>
                                                </div>
                                            </div>
                                        </div>
                                    </div>


                                </div>


                            </div>
                        </div>
                        <div class="grid  bg-white border-round-bottom shadow-2">
                            <div class="col-12 p-0 m-0">
                                <p-progressBar [value]="progressBarValue" [style]="{'height': '6px'}"
                                    [showValue]="false">
                                </p-progressBar>
                            </div>
                            <div class="col-12 my-4">
                                <div class="grid">
                                    <div class="col-5 col-offset-7 ">
                                        <p-button label="SIGUIENTE"
                                            styleClass="p-button-danger p-button-rounded p-button-sm p-button-block"
                                            [style]="{width: '75%'}" [disabled]="btnNextPropetyTypePage"
                                            (click)="nextPropetyTypePage()">
                                        </p-button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col"></div>
                </div>
            </div>
        </div>
        <!-- End PropetyTypePage -->
        <!-- OfferTypePage -->
        <div *ngSwitchCase="PageNames.OfferTypePage">
            <div class="mt-6">
                <div class="grid">
                    <div class="col"></div>
                    <div class="col-12 sm:col-10 md:col-8 lg:col-4  text-center border-round bg-white">
                        <div class="grid  border-round surface-200 shadow-2">
                            <div class="col-12 ">
                                <div class="text-center">
                                    <h2 class="mb-0">Tipo de oferta</h2>
                                    <p>Elige el tipo de oferta</p>
                                </div>

                                <div class="grid mt-4">
                                    <div class="col-6 col-offset-3">
                                        <div class="bg-white border-round shadow-2 cursor-pointer"
                                            [ngClass]="[rentCardStyle]" (click)="selectCardOffer(0)">
                                            <div class="card mx-4">
                                                <div class="flex flex-row flex-wrap card-container">
                                                    <div class="flex align-items-center justify-content-center m-2">
                                                        <img src="./assets/icons/rent.svg" alt="img">
                                                    </div>
                                                    <div class="flex align-items-center justify-content-center m-2">
                                                        <h4>Alquiler</h4>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="grid mt-2">
                                    <div class="col-6 col-offset-3">
                                        <div class="bg-white border-round shadow-2 cursor-pointer"
                                            [ngClass]="[saleCardStyle]" (click)="selectCardOffer(1)">
                                            <div class="card mx-4">
                                                <div class="flex flex-row flex-wrap card-container">
                                                    <div class="flex align-items-center justify-content-center m-2">
                                                        <img src="./assets/icons/sale.svg" alt="img">
                                                    </div>
                                                    <div class="flex align-items-center justify-content-center m-2">
                                                        <h4>Venta</h4>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="grid mt-2 mb-6">
                                    <div class="col-6 col-offset-3">
                                        <div class="bg-white border-round shadow-2 cursor-pointer"
                                            [ngClass]="[antiqueCardStyle]" (click)="selectCardOffer(2)">
                                            <div class="card mx-4">
                                                <div class="flex flex-row flex-wrap card-container">
                                                    <div class="flex align-items-center justify-content-center m-2">
                                                        <img src="./assets/icons/antique.svg" alt="img">
                                                    </div>
                                                    <div class="flex align-items-center justify-content-center m-2">
                                                        <h4>Anticrético</h4>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="grid  bg-white border-round-bottom shadow-2">
                            <div class="col-12 p-0 m-0">
                                <p-progressBar [value]="progressBarValue" [style]="{'height': '6px'}"
                                    [showValue]="false">
                                </p-progressBar>
                            </div>
                            <div class="col-12 my-4">
                                <div class="grid">
                                    <div class="col-5 ">
                                        <p-button label="ATRÁS"
                                            styleClass="p-button-danger p-button-rounded p-button-outlined p-button-sm p-button-block"
                                            [style]="{width: '75%'}" (click)="backOfferPage()"></p-button>
                                    </div>
                                    <div class="col-5 col-offset-2 ">
                                        <p-button label="SIGUIENTE"
                                            styleClass="p-button-danger p-button-rounded p-button-sm p-button-block"
                                            [style]="{width: '75%'}" [disabled]="btnNextOfferTypePage"
                                            (click)="nextOfferPage()">
                                        </p-button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col"></div>
                </div>
            </div>
        </div>
        <!-- End OfferTypePage -->
        <!-- TitlePage -->
        <div *ngSwitchCase="PageNames.TitlePage">
            <div class="grid">
                <div class="col-12 sm:col-12 md:col-8 lg:col-4">
                    <p-scrollPanel [style]="{width: '100%', height: '600px'}">
                        <div class="grid h-full m-0 surface-200">
                            <div class="col-12">
                                <div class="text-center">
                                    <h2 class="mb-0">Carácteristicas de la publicación</h2>
                                    <p>Coloca un título y una breve descripción</p>

                                </div>
                            </div>
                            <div class="col-10 col-offset-1">
                                <div class="card">
                                    <div class="field">
                                        <label>*Título</label>
                                        <input type="text" pInputText class="block w-full" formControlName="title"
                                            placeholder="..." />
                                        <small class="text-red" *ngIf="fiedlIsValid('title')">El título es
                                            requerido.</small>
                                    </div>
                                    <div class="field">
                                        <label>*Descripción del inmueble</label>
                                        <textarea [rows]="5" [cols]="30" class="block w-full" pInputTextarea
                                            [autoResize]="true" formControlName="description"></textarea>
                                        <small class="text-red" *ngIf="fiedlIsValid('title')">La descripción es
                                            requerida.</small>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </p-scrollPanel>
                    <div class="grid  bg-white shadow-1">
                        <div class="col-12 p-0 m-0">
                            <p-progressBar [value]="progressBarValue" [style]="{'height': '6px'}" [showValue]="false">
                            </p-progressBar>
                        </div>
                        <div class="col-12 my-4">
                            <div class="grid">
                                <div class="col-5 text-center">
                                    <p-button label="ATRÁS"
                                        styleClass="p-button-danger p-button-rounded p-button-outlined p-button-sm p-button-block"
                                        [style]="{width: '75%'}" (click)="backTitlePage()"></p-button>
                                </div>
                                <div class="col-5 col-offset-2 text-center">
                                    <p-button label="SIGUIENTE"
                                        styleClass="p-button-danger p-button-rounded p-button-sm p-button-block"
                                        [style]="{width: '75%'}" (click)="nextTitlePage()">
                                    </p-button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- preview -->
                <div class="col-12 sm:col-12 md:col-8 lg:col-8 mt-2" style="height: 90vh;">
                    <p-scrollPanel [style]="{width: '100%', height: '100%'}">
                        <div class="grid mx-4">
                            <div class="col-12 text-center">
                                <h3 class="text-primary"><i class="pi pi-info-circle"></i> Vista previa de tu captación
                                </h3>
                            </div>
                            <div class="col-12 border-round surface-200">
                                <div class="grid px-4">
                                    <div class="col-10">
                                        <h2>
                                            {{propetyForm.value.title}}
                                        </h2>
                                        <h3>
                                            {{_property_type | titlecase }} en {{_offer_type | titlecase}},
                                            {{propetyForm.value.address}}
                                        </h3>
                                        <h4><img src="/assets/icons/pin_home.svg" class="mr-2" alt="icon"> <span
                                                class="opacity-50">Ubicación</span></h4>
                                    </div>
                                    <div class="col-2 text-center">
                                        <h4>{{_property_type}}</h4>
                                        <div class="grid">
                                            <div class="col-9">
                                                <input type="number" pInputText class="block w-full"
                                                    formControlName="price" [(ngModel)]="propetyForm.value.price"
                                                    placeholder="..." />
                                            </div>
                                            <div
                                                class="col-3 flex align-items-center justify-content-center opacity-50">
                                                {{propetyForm.value.currency_type}}
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <h4>Descripción</h4>
                                        <p class="opacity-50">{{propetyForm.value.description}}</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 border-round surface-200 mt-4">
                                <div class="grid px-4 py-0">
                                    <div class="col-12">
                                        <h2>Fotos</h2>
                                    </div>
                                    <div class="col-4" *ngFor="let file of _files">
                                        <p-image [src]="file.objectURL" alt="Image" imageClass="border-round"
                                            width="100%" [preview]="true">
                                        </p-image>
                                        <!-- 
                                        <img [src]="file.objectURL" alt="img" class="border-round w-full"> -->
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 border-round surface-200 mt-4">
                                <div class="grid px-4">
                                    <div class="col-12">
                                        <h2>Distribución</h2>
                                    </div>
                                    <div class="col-12">
                                        <div class="grid">
                                            <div class="col-4 text-center text-xl">
                                                <img src="/assets/icons/ruler.svg" class="mr-2" width="26rem"
                                                    alt="icon">
                                                Superficie: {{propetyForm.value.total_surface}}
                                                {{propetyForm.value.length_unit}}
                                            </div>
                                            <div class="col-4 text-center text-xl">
                                                <img src="/assets/icons/bed.svg" class="mr-2" width="26rem" alt="icon">
                                                Dormitorios: {{propetyForm.value.no_bedrooms}}
                                            </div>
                                            <div class="col-4 text-center text-xl">
                                                <img src="/assets/icons/shower.svg" class="mr-2" width="26rem"
                                                    alt="icon">
                                                Baños: {{propetyForm.value.no_bathrooms}}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 border-round surface-200 mt-4">
                                <div class="grid px-4">
                                    <div class="col-12">
                                        <h2>Áreas Adicionales</h2>
                                    </div>
                                    <div class="col-12">
                                        <div class="grid">
                                            <div *ngFor="let item of features">
                                                <div class="col text-left text-lg" *ngIf="item.isSelected">
                                                    <img src="/assets/icons/dot.svg" class="mr-2" width="14rem"
                                                        alt="icon">
                                                    <span>{{item.name}}</span><span
                                                        *ngIf="item.multiple">&nbsp;:&nbsp;{{item.quantity}}</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 border-round surface-200 mt-4">
                                <div class="grid px-4">
                                    <div class="col-12">
                                        <h2>Ubicación</h2>
                                        <p class="opacity-50">Aqui se mostrará la ubicación del inmueble</p>
                                    </div>
                                    <div class="col-12">

                                        <p-gmap [options]="optionsMapPreview" [overlays]="overlaysMapPreview"
                                            [style]="{'width':'100%','height':'320px'}"
                                            (onMapClick)="handleMapClick($event)">
                                        </p-gmap>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 border-round surface-200 mt-4">
                                <div class="grid px-4">
                                    <div class="col-12">
                                        <h2>Información del agente</h2>
                                    </div>
                                    <div class="col-12">
                                        <div class="grid">
                                            <div class="col-3">
                                                <h4><img src="/assets/icons/user.svg" class="mr-2" width="26rem"
                                                        alt="icon"><span class="opacity-50">{{user.name}}</span></h4>
                                                <h4><img src="/assets/icons/telephone_outline.svg" class="mr-2"
                                                        width="26rem" alt="icon"><span
                                                        class="opacity-50">{{user.phone_number}}</span>
                                                </h4>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </p-scrollPanel>
                </div>
                <!-- end preview -->
            </div>

        </div>
        <!-- End TitlePage -->
        <!-- PhotosPage -->
        <div *ngSwitchCase="PageNames.PhotosPage">
            <div class="grid">
                <div class="col-12 sm:col-12 md:col-8 lg:col-4">
                    <p-scrollPanel [style]="{width: '100%', height: '600px'}">
                        <div class="grid h-full m-0 surface-200">
                            <div class="col-12">
                                <div class="text-center">
                                    <h2 class="mb-0">Fotos</h2>
                                    <p>Agrega fotos a tu publicacion</p>

                                </div>
                            </div>
                            <div class="col-10 col-offset-1">
                                <div class="text-center">
                                    <p-fileUpload name="photos[]" [multiple]="true" chooseLabel="Subir imagen"
                                        chooseIcon="pi pi-upload" uploadLabel="Subir" cancelLabel="Cancelar"
                                        accept="image/*" [maxFileSize]="1000000000" [customUpload]="true"
                                        (uploadHandler)="photosUploader($event)" (onSelect)="onSelectPhotos($event)"
                                        [showUploadButton]="false" [showCancelButton]="false">
                                        <ng-template pTemplate="content" let-files>
                                            <div class="opacity-50">
                                                <svg width="50" height="49" viewBox="0 0 50 49" fill="none"
                                                    xmlns="http://www.w3.org/2000/svg">
                                                    <g clip-path="url(#clip0_30_2466)">
                                                        <path
                                                            d="M25.4263 17.9299C22.7046 17.9299 20.498 20.1363 20.498 22.8582C20.498 25.5799 22.7045 27.7865 25.4263 27.7865C28.1481 27.7865 30.3546 25.58 30.3546 22.8582C30.3546 20.1363 28.1482 17.9299 25.4263 17.9299ZM25.4263 25.4396C24.0006 25.4396 22.8448 24.2838 22.8448 22.8581C22.8448 21.4324 24.0006 20.2766 25.4263 20.2766C26.852 20.2766 28.0078 21.4324 28.0078 22.8581C28.0078 24.2838 26.852 25.4396 25.4263 25.4396Z"
                                                            fill="#FF666C" />
                                                        <path
                                                            d="M45.081 6.66574L13.0475 3.02832C11.8043 2.85157 10.5446 3.21451 9.58607 4.02575C8.62761 4.76893 8.01324 5.87056 7.88466 7.07652L7.29802 11.8874H5.47914C2.89766 11.8874 0.961546 14.1755 0.961546 16.757V40.7527C0.896526 43.2144 2.83938 45.2628 5.30115 45.3278C5.36044 45.3294 5.41985 45.3297 5.47914 45.3289H37.6886C40.2701 45.3289 42.6169 43.3342 42.6169 40.7527V39.814C43.4172 39.6594 44.1765 39.3397 44.8463 38.8753C45.7969 38.075 46.4056 36.9416 46.5477 35.7072L49.2466 11.8874C49.5217 9.3 47.6649 6.97242 45.081 6.66574ZM40.2701 40.7527C40.2701 42.0434 38.9794 42.9821 37.6886 42.9821H5.47914C4.31316 43.0164 3.34022 42.0989 3.30597 40.9329C3.30417 40.8729 3.30496 40.8128 3.30833 40.7527V36.4112L12.4021 29.7229C13.4946 28.8841 15.0333 28.9587 16.0397 29.8989L22.4346 35.5311C23.4058 36.3465 24.6283 36.8023 25.8962 36.8219C26.8876 36.834 27.8626 36.57 28.7124 36.0591L40.2702 29.3708V40.7527H40.2701ZM40.2701 26.6134L27.4801 34.0644C26.3819 34.7151 24.9918 34.5973 24.0186 33.7711L17.565 28.0801C15.7154 26.4908 13.0119 26.3933 11.0527 27.8454L3.30833 33.4777V16.757C3.30833 15.4662 4.1884 14.2342 5.47914 14.2342H37.6886C39.0676 14.2914 40.1813 15.3798 40.2701 16.757V26.6134ZM46.902 11.5706C46.9012 11.5784 46.9006 11.5863 46.8997 11.594L44.1422 35.4138C44.1469 36.0314 43.8653 36.6164 43.3795 36.9978C43.1448 37.2325 42.6168 37.3499 42.6168 37.4672V16.757C42.5241 14.0842 40.3622 11.948 37.6885 11.8874H9.64469L10.1727 7.31122C10.2873 6.71863 10.5971 6.18162 11.0528 5.78578C11.5673 5.43002 12.1895 5.26416 12.8129 5.31637L44.7878 9.01252C46.0779 9.13503 47.0245 10.2804 46.902 11.5706Z"
                                                            fill="#FF666C" />
                                                    </g>
                                                    <defs>
                                                        <clipPath id="clip0_30_2466">
                                                            <rect width="48.3135" height="48.3135" fill="white"
                                                                transform="translate(0.959961)" />
                                                        </clipPath>
                                                    </defs>
                                                </svg>
                                                <div class="mt-2">Arrastra las fotos aquí.</div>
                                            </div>
                                        </ng-template>
                                    </p-fileUpload>
                                </div>
                            </div>
                        </div>

                    </p-scrollPanel>
                    <div class="grid  bg-white shadow-1">
                        <div class="col-12 p-0 m-0">
                            <p-progressBar [value]="progressBarValue" [style]="{'height': '6px'}" [showValue]="false">
                            </p-progressBar>
                        </div>
                        <div class="col-12 my-4">
                            <div class="grid">
                                <div class="col-5 text-center">
                                    <p-button label="ATRÁS"
                                        styleClass="p-button-danger p-button-rounded p-button-outlined p-button-sm p-button-block"
                                        [style]="{width: '75%'}" (click)="backPhotosPage()"></p-button>
                                </div>
                                <div class="col-5 col-offset-2 text-center">
                                    <p-button label="SIGUIENTE"
                                        styleClass="p-button-danger p-button-rounded p-button-sm p-button-block"
                                        [style]="{width: '75%'}" (click)="nextPhotosPage()">
                                    </p-button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- preview -->
                <div class="col-12 sm:col-12 md:col-8 lg:col-8 mt-2" style="height: 90vh;">
                    <p-scrollPanel [style]="{width: '100%', height: '100%'}">
                        <div class="grid mx-4">
                            <div class="col-12 text-center">
                                <h3 class="text-primary"><i class="pi pi-info-circle"></i> Vista previa de tu captación
                                </h3>
                            </div>
                            <div class="col-12 border-round surface-200">
                                <div class="grid px-4">
                                    <div class="col-10">
                                        <h2>
                                            {{propetyForm.value.title}}
                                        </h2>
                                        <h3>
                                            {{_property_type | titlecase }} en {{_offer_type | titlecase}},
                                            {{propetyForm.value.address}}
                                        </h3>
                                        <h4><img src="/assets/icons/pin_home.svg" class="mr-2" alt="icon"> <span
                                                class="opacity-50">Ubicación</span></h4>
                                    </div>
                                    <div class="col-2 text-center">
                                        <h4>{{_property_type}}</h4>
                                        <div class="grid">
                                            <div class="col-9">
                                                <input type="number" pInputText class="block w-full"
                                                    formControlName="price" [(ngModel)]="propetyForm.value.price"
                                                    placeholder="..." />
                                            </div>
                                            <div
                                                class="col-3 flex align-items-center justify-content-center opacity-50">
                                                {{propetyForm.value.currency_type}}
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <h4>Descripción</h4>
                                        <p class="opacity-50">{{propetyForm.value.description}}</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 border-round surface-200 mt-4">
                                <div class="grid px-4 py-0">
                                    <div class="col-12">
                                        <h2>Fotos</h2>
                                    </div>
                                    <div class="col-4" *ngFor="let file of _files">
                                        <p-image [src]="file.objectURL" alt="Image" imageClass="border-round"
                                            width="100%" [preview]="true">
                                        </p-image>
                                        <!-- 
                                        <img [src]="file.objectURL" alt="img" class="border-round w-full"> -->
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 border-round surface-200 mt-4">
                                <div class="grid px-4">
                                    <div class="col-12">
                                        <h2>Distribución</h2>
                                    </div>
                                    <div class="col-12">
                                        <div class="grid">
                                            <div class="col-4 text-center text-xl">
                                                <img src="/assets/icons/ruler.svg" class="mr-2" width="26rem"
                                                    alt="icon">
                                                Superficie: {{propetyForm.value.total_surface}}
                                                {{propetyForm.value.length_unit}}
                                            </div>
                                            <div class="col-4 text-center text-xl">
                                                <img src="/assets/icons/bed.svg" class="mr-2" width="26rem" alt="icon">
                                                Dormitorios: {{propetyForm.value.no_bedrooms}}
                                            </div>
                                            <div class="col-4 text-center text-xl">
                                                <img src="/assets/icons/shower.svg" class="mr-2" width="26rem"
                                                    alt="icon">
                                                Baños: {{propetyForm.value.no_bathrooms}}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 border-round surface-200 mt-4">
                                <div class="grid px-4">
                                    <div class="col-12">
                                        <h2>Áreas Adicionales</h2>
                                    </div>
                                    <div class="col-12">
                                        <div class="grid">
                                            <div *ngFor="let item of features">
                                                <div class="col text-left text-lg" *ngIf="item.isSelected">
                                                    <img src="/assets/icons/dot.svg" class="mr-2" width="14rem"
                                                        alt="icon">
                                                    <span>{{item.name}}</span><span
                                                        *ngIf="item.multiple">&nbsp;:&nbsp;{{item.quantity}}</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 border-round surface-200 mt-4">
                                <div class="grid px-4">
                                    <div class="col-12">
                                        <h2>Ubicación</h2>
                                        <p class="opacity-50">Aqui se mostrará la ubicación del inmueble</p>
                                    </div>
                                    <div class="col-12">
                                        <p-gmap [options]="optionsMapPreview" [overlays]="overlaysMapPreview"
                                            [style]="{'width':'100%','height':'320px'}"
                                            (onMapClick)="handleMapClick($event)">
                                        </p-gmap>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 border-round surface-200 mt-4">
                                <div class="grid px-4">
                                    <div class="col-12">
                                        <h2>Información del agente</h2>
                                    </div>
                                    <div class="col-12">
                                        <div class="grid">
                                            <div class="col-3">

                                                <h4><img src="/assets/icons/user.svg" class="mr-2" width="26rem"
                                                        alt="icon"><span class="opacity-50">{{user.name}}</span></h4>
                                                <h4><img src="/assets/icons/telephone_outline.svg" class="mr-2"
                                                        width="26rem" alt="icon"><span
                                                        class="opacity-50">{{user.phone_number}}</span>
                                                </h4>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </p-scrollPanel>
                </div>
                <!-- end preview -->
            </div>

        </div>
        <!-- End PhotosPage -->
        <!-- AddressPage -->
        <div *ngSwitchCase="PageNames.AddressPage">
            <div class="grid">
                <div class="col-12 sm:col-12 md:col-8 lg:col-4">
                    <p-scrollPanel [style]="{width: '100%', height: '600px'}">
                        <div class="grid h-full m-0 surface-200">
                            <div class="col-12">
                                <div class="text-center">
                                    <h2 class="mb-0">Ubicación</h2>
                                    <p>Especifica la ubicación</p>

                                </div>
                            </div>
                            <div class="col-10 col-offset-1">
                                <div class="card">
                                    <div class="field">
                                        <label>*Dirección</label>
                                        <input type="text" pInputText class="block w-full" formControlName="address"
                                            placeholder="..." />
                                        <small class="text-red" *ngIf="fiedlIsValid('address')">El dato es
                                            requerido.</small>
                                    </div>
                                    <div class="field">
                                        <label>*Ubicación</label>
                                        <input type="text" pInputText class="block w-full"
                                            formControlName="property_location" placeholder="..." />
                                        <small class="text-red" *ngIf="fiedlIsValid('property_location')">El dato es
                                            requerido.</small>
                                    </div>
                                    <div class="field">
                                        <label>*Departamento</label>
                                        <select class="text-xl border-round h-3rem w-full"
                                            formControlName="departmentId" [(ngModel)]="propetyForm.value.departmentId">
                                            <option value="" [disabled]="true">(Seleccionar departamento)</option>
                                            <option *ngFor="let item of departments" [value]="item.id">{{item.name}}
                                            </option>
                                        </select>
                                        <small class="text-red" *ngIf="fiedlIsValid('departmentId')">El dato es
                                            requerido.</small>
                                    </div>
                                    <div class="field">
                                        <label>*País</label><br>
                                        <select class="text-xl border-round h-3rem w-full" formControlName="countryId"
                                            [(ngModel)]="propetyForm.value.countryId">
                                            <option value="1">Bolivia</option>
                                        </select>
                                        <small class="text-red" *ngIf="fiedlIsValid('countryId')">El dato es
                                            requerido.</small>
                                    </div>

                                </div>
                            </div>
                        </div>

                    </p-scrollPanel>
                    <div class="grid  bg-white shadow-1">
                        <div class="col-12 p-0 m-0">
                            <p-progressBar [value]="progressBarValue" [style]="{'height': '6px'}" [showValue]="false">
                            </p-progressBar>
                        </div>
                        <div class="col-12 my-4">
                            <div class="grid">
                                <div class="col-5 text-center">
                                    <p-button label="ATRÁS"
                                        styleClass="p-button-danger p-button-rounded p-button-outlined p-button-sm p-button-block"
                                        [style]="{width: '75%'}" (click)="backAddressPage()"></p-button>
                                </div>
                                <div class="col-5 col-offset-2 text-center">
                                    <p-button label="SIGUIENTE"
                                        styleClass="p-button-danger p-button-rounded p-button-sm p-button-block"
                                        [style]="{width: '75%'}" (click)="nextAddressPage()">
                                    </p-button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- preview -->
                <div class="col-12 sm:col-12 md:col-8 lg:col-8 mt-2" style="height: 90vh;">
                    <p-scrollPanel [style]="{width: '100%', height: '100%'}">
                        <div class="grid mx-4">
                            <div class="col-12 text-center">
                                <h3 class="text-primary"><i class="pi pi-info-circle"></i> Vista previa de tu captación
                                </h3>
                            </div>
                            <div class="col-12 border-round surface-200">
                                <div class="grid px-4">
                                    <div class="col-10">
                                        <h2>
                                            {{propetyForm.value.title}}
                                        </h2>
                                        <h3>
                                            {{_property_type | titlecase }} en {{_offer_type | titlecase}},
                                            {{propetyForm.value.address}}
                                        </h3>
                                        <h4><img src="/assets/icons/pin_home.svg" class="mr-2" alt="icon"> <span
                                                class="opacity-50">Ubicación</span></h4>
                                    </div>
                                    <div class="col-2 text-center">
                                        <h4>{{_property_type}}</h4>
                                        <div class="grid">
                                            <div class="col-9">
                                                <input type="number" pInputText class="block w-full"
                                                    formControlName="price" [(ngModel)]="propetyForm.value.price"
                                                    placeholder="..." />
                                            </div>
                                            <div
                                                class="col-3 flex align-items-center justify-content-center opacity-50">
                                                {{propetyForm.value.currency_type}}
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <h4>Descripción</h4>
                                        <p class="opacity-50">{{propetyForm.value.description}}</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 border-round surface-200 mt-4">
                                <div class="grid px-4 py-0">
                                    <div class="col-12">
                                        <h2>Fotos</h2>
                                    </div>
                                    <div class="col-4" *ngFor="let file of _files">
                                        <p-image [src]="file.objectURL" alt="Image" imageClass="border-round"
                                            width="100%" [preview]="true">
                                        </p-image>
                                        <!-- 
                                        <img [src]="file.objectURL" alt="img" class="border-round w-full"> -->
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 border-round surface-200 mt-4">
                                <div class="grid px-4">
                                    <div class="col-12">
                                        <h2>Distribución</h2>
                                    </div>
                                    <div class="col-12">
                                        <div class="grid">
                                            <div class="col-4 text-center text-xl">
                                                <img src="/assets/icons/ruler.svg" class="mr-2" width="26rem"
                                                    alt="icon">
                                                Superficie: {{propetyForm.value.total_surface}}
                                                {{propetyForm.value.length_unit}}
                                            </div>
                                            <div class="col-4 text-center text-xl">
                                                <img src="/assets/icons/bed.svg" class="mr-2" width="26rem" alt="icon">
                                                Dormitorios: {{propetyForm.value.no_bedrooms}}
                                            </div>
                                            <div class="col-4 text-center text-xl">
                                                <img src="/assets/icons/shower.svg" class="mr-2" width="26rem"
                                                    alt="icon">
                                                Baños: {{propetyForm.value.no_bathrooms}}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 border-round surface-200 mt-4">
                                <div class="grid px-4">
                                    <div class="col-12">
                                        <h2>Áreas Adicionales</h2>
                                    </div>
                                    <div class="col-12">
                                        <div class="grid">
                                            <div *ngFor="let item of features">
                                                <div class="col text-left text-lg" *ngIf="item.isSelected">
                                                    <img src="/assets/icons/dot.svg" class="mr-2" width="14rem"
                                                        alt="icon">
                                                    <span>{{item.name}}</span><span
                                                        *ngIf="item.multiple">&nbsp;:&nbsp;{{item.quantity}}</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 border-round surface-200 mt-4">
                                <div class="grid px-4">
                                    <div class="col-12">
                                        <h2>Ubicación</h2>
                                        <p class="opacity-50">{{propetyForm.value.address}}</p>
                                        <p class="opacity-50">{{propetyForm.value.property_location}}</p>
                                    </div>
                                    <div class="col-12">

                                        <p-gmap [options]="optionsMapPreview" [overlays]="overlaysMapPreview"
                                            [style]="{'width':'100%','height':'320px'}"
                                            (onMapClick)="handleMapClick($event)">
                                        </p-gmap>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 border-round surface-200 mt-4">
                                <div class="grid px-4">
                                    <div class="col-12">
                                        <h2>Información del agente</h2>
                                    </div>
                                    <div class="col-12">
                                        <div class="grid">
                                            <div class="col-3">
                                                <h4><img src="/assets/icons/user.svg" class="mr-2" width="26rem"
                                                        alt="icon"><span class="opacity-50">{{user.name}}</span></h4>
                                                <h4><img src="/assets/icons/telephone_outline.svg" class="mr-2"
                                                        width="26rem" alt="icon"><span
                                                        class="opacity-50">{{user.phone_number}}</span>
                                                </h4>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </p-scrollPanel>
                </div>
                <!-- end preview -->
            </div>

        </div>
        <!-- End AddressPage -->
        <!-- MapPage -->
        <div *ngSwitchCase="PageNames.MapPage">
            <div class="grid">
                <div class="col-12 sm:col-12 md:col-8 lg:col-4">
                    <p-scrollPanel [style]="{width: '100%', height: '600px'}">
                        <div class="grid h-full m-0 surface-200">
                            <div class="col-12">
                                <div class="text-center">
                                    <h2 class="mb-0">Ubicación</h2>
                                    <p>Haz clic para seleccionar la ubicación</p>

                                </div>
                            </div>
                            <div class="col-12">
                                <div class="text-center my-2">
                                    <button pButton type="button" label="Mi ubicación"
                                        class="p-button-secondary p-button-outlined p-button-rounded p-button-sm"
                                        icon="pi pi-map-marker"
                                        (click)="getCurrentGPS(gmap.getMap(), gmapPreview.getMap())"></button>
                                </div>
                                <div class="card">
                                    <p-gmap #gmap [options]="optionsMap" [overlays]="overlaysMap"
                                        [style]="{'width':'100%','height':'320px'}"
                                        (onMapClick)="handleMapClick($event)">
                                    </p-gmap>
                                </div>
                            </div>
                        </div>

                    </p-scrollPanel>
                    <div class="grid  bg-white shadow-1">
                        <div class="col-12 p-0 m-0">
                            <p-progressBar [value]="progressBarValue" [style]="{'height': '6px'}" [showValue]="false">
                            </p-progressBar>
                        </div>
                        <div class="col-12 my-4">
                            <div class="grid">
                                <div class="col-5 text-center">
                                    <p-button label="ATRÁS"
                                        styleClass="p-button-danger p-button-rounded p-button-outlined p-button-sm p-button-block"
                                        [style]="{width: '75%'}" (click)="backMapPage()"></p-button>
                                </div>
                                <div class="col-5 col-offset-2 text-center">
                                    <p-button label="SIGUIENTE"
                                        styleClass="p-button-danger p-button-rounded p-button-sm p-button-block"
                                        [style]="{width: '75%'}" (click)="nextMapPage()">
                                    </p-button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- preview -->
                <div class="col-12 sm:col-12 md:col-8 lg:col-8 mt-2" style="height: 90vh;">
                    <p-scrollPanel [style]="{width: '100%', height: '100%'}">
                        <div class="grid mx-4">
                            <div class="col-12 text-center">
                                <h3 class="text-primary"><i class="pi pi-info-circle"></i> Vista previa de tu captación
                                </h3>
                            </div>
                            <div class="col-12 border-round surface-200">
                                <div class="grid px-4">
                                    <div class="col-10">
                                        <h2>
                                            {{propetyForm.value.title}}
                                        </h2>
                                        <h3>
                                            {{_property_type | titlecase }} en {{_offer_type | titlecase}},
                                            {{propetyForm.value.address}}
                                        </h3>
                                        <h4><img src="/assets/icons/pin_home.svg" class="mr-2" alt="icon"> <span
                                                class="opacity-50">Ubicación</span></h4>
                                    </div>
                                    <div class="col-2 text-center">
                                        <h4>{{_property_type}}</h4>
                                        <div class="grid">
                                            <div class="col-9">
                                                <input type="number" pInputText class="block w-full"
                                                    formControlName="price" [(ngModel)]="propetyForm.value.price"
                                                    placeholder="..." />
                                            </div>
                                            <div
                                                class="col-3 flex align-items-center justify-content-center opacity-50">
                                                {{propetyForm.value.currency_type}}
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <h4>Descripción</h4>
                                        <p class="opacity-50">{{propetyForm.value.description}}</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 border-round surface-200 mt-4">
                                <div class="grid px-4 py-0">
                                    <div class="col-12">
                                        <h2>Fotos</h2>
                                    </div>
                                    <div class="col-4" *ngFor="let file of _files">
                                        <p-image [src]="file.objectURL" alt="Image" imageClass="border-round"
                                            width="100%" [preview]="true">
                                        </p-image>
                                        <!-- 
                                        <img [src]="file.objectURL" alt="img" class="border-round w-full"> -->
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 border-round surface-200 mt-4">
                                <div class="grid px-4">
                                    <div class="col-12">
                                        <h2>Distribución</h2>
                                    </div>
                                    <div class="col-12">
                                        <div class="grid">
                                            <div class="col-4 text-center text-xl">
                                                <img src="/assets/icons/ruler.svg" class="mr-2" width="26rem"
                                                    alt="icon">
                                                Superficie: {{propetyForm.value.total_surface}}
                                                {{propetyForm.value.length_unit}}
                                            </div>
                                            <div class="col-4 text-center text-xl">
                                                <img src="/assets/icons/bed.svg" class="mr-2" width="26rem" alt="icon">
                                                Dormitorios: {{propetyForm.value.no_bedrooms}}
                                            </div>
                                            <div class="col-4 text-center text-xl">
                                                <img src="/assets/icons/shower.svg" class="mr-2" width="26rem"
                                                    alt="icon">
                                                Baños: {{propetyForm.value.no_bathrooms}}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 border-round surface-200 mt-4">
                                <div class="grid px-4">
                                    <div class="col-12">
                                        <h2>Áreas Adicionales</h2>
                                    </div>
                                    <div class="col-12">
                                        <div class="grid">
                                            <div *ngFor="let item of features">
                                                <div class="col text-left text-lg" *ngIf="item.isSelected">
                                                    <img src="/assets/icons/dot.svg" class="mr-2" width="14rem"
                                                        alt="icon">
                                                    <span>{{item.name}}</span><span
                                                        *ngIf="item.multiple">&nbsp;:&nbsp;{{item.quantity}}</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 border-round surface-200 mt-4">
                                <div class="grid px-4">
                                    <div class="col-12">
                                        <h2>Ubicación</h2>
                                        <p class="opacity-50">{{propetyForm.value.address}}</p>
                                        <p class="opacity-50">{{propetyForm.value.property_location}}</p>
                                    </div>
                                    <div class="col-12">
                                        <p-gmap #gmapPreview [options]="optionsMapPreview"
                                            [overlays]="overlaysMapPreview" [style]="{'width':'100%','height':'320px'}"
                                            (onMapClick)="handleMapClick($event)">
                                        </p-gmap>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 border-round surface-200 mt-4">
                                <div class="grid px-4">
                                    <div class="col-12">
                                        <h2>Información del agente</h2>
                                    </div>
                                    <div class="col-12">
                                        <div class="grid">
                                            <div class="col-3">
                                                <h4><img src="/assets/icons/user.svg" class="mr-2" width="26rem"
                                                        alt="icon"><span class="opacity-50">{{user.name}}</span></h4>
                                                <h4><img src="/assets/icons/telephone_outline.svg" class="mr-2"
                                                        width="26rem" alt="icon"><span
                                                        class="opacity-50">{{user.phone_number}}</span>
                                                </h4>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </p-scrollPanel>
                </div>
                <!-- end preview -->
            </div>

        </div>
        <!-- End MapPage -->
        <!-- PricePage -->
        <div *ngSwitchCase="PageNames.PricePage">
            <div class="grid">
                <div class="col-12 sm:col-12 md:col-8 lg:col-4">
                    <p-scrollPanel [style]="{width: '100%', height: '600px'}">
                        <div class="grid h-full m-0 surface-200">
                            <div class="col-12">
                                <div class="text-center">
                                    <h2 class="mb-0">Precio</h2>
                                    <p>Ingrese los precios correspondientes</p>
                                </div>
                            </div>
                            <div class="col-10 col-offset-1">
                                <div class="card">
                                    <div class="formgrid grid">
                                        <div class="field col">
                                            <label>*Precio / Mes</label>
                                            <input type="number" pInputText class="block w-full" formControlName="price"
                                                placeholder="..." [(ngModel)]="propetyForm.value.price" />
                                            <small class="text-red" *ngIf="fiedlIsValid('price')">El dato es
                                                requerido.</small>
                                        </div>
                                        <div class="field col-4">
                                            <label>*Moneda</label><br>
                                            <select class="text-xl border-round h-3rem w-full"
                                                formControlName="currency_type"
                                                [(ngModel)]="propetyForm.value.currency_type">
                                                <option value="BOB" selected>BOB</option>
                                                <option value="USD">USD</option>
                                            </select>
                                            <small class="text-red" *ngIf="fiedlIsValid('currency_type')">El dato es
                                                requerido.</small>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>

                    </p-scrollPanel>
                    <div class="grid  bg-white shadow-1">
                        <div class="col-12 p-0 m-0">
                            <p-progressBar [value]="progressBarValue" [style]="{'height': '6px'}" [showValue]="false">
                            </p-progressBar>
                        </div>
                        <div class="col-12 my-4">
                            <div class="grid">
                                <div class="col-5 text-center">
                                    <p-button label="ATRÁS"
                                        styleClass="p-button-danger p-button-rounded p-button-outlined p-button-sm p-button-block"
                                        [style]="{width: '75%'}" (click)="backPricePage()"></p-button>
                                </div>
                                <div class="col-5 col-offset-2 text-center">
                                    <p-button label="SIGUIENTE"
                                        styleClass="p-button-danger p-button-rounded p-button-sm p-button-block"
                                        [style]="{width: '75%'}" (click)="nextPricePage()">
                                    </p-button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- preview -->
                <div class="col-12 sm:col-12 md:col-8 lg:col-8 mt-2" style="height: 90vh;">
                    <p-scrollPanel [style]="{width: '100%', height: '100%'}">
                        <div class="grid mx-4">
                            <div class="col-12 text-center">
                                <h3 class="text-primary"><i class="pi pi-info-circle"></i> Vista previa de tu captación
                                </h3>
                            </div>
                            <div class="col-12 border-round surface-200">
                                <div class="grid px-4">
                                    <div class="col-10">
                                        <h2>
                                            {{propetyForm.value.title}}
                                        </h2>
                                        <h3>
                                            {{_property_type | titlecase }} en {{_offer_type | titlecase}},
                                            {{propetyForm.value.address}}
                                        </h3>
                                        <h4><img src="/assets/icons/pin_home.svg" class="mr-2" alt="icon"> <span
                                                class="opacity-50">Ubicación</span></h4>
                                    </div>
                                    <div class="col-2 text-center">
                                        <h4>{{_property_type}}</h4>
                                        <div class="grid">
                                            <div class="col-9">
                                                <input type="number" pInputText class="block w-full"
                                                    formControlName="price" [(ngModel)]="propetyForm.value.price"
                                                    placeholder="..." />
                                            </div>
                                            <div
                                                class="col-3 flex align-items-center justify-content-center opacity-50">
                                                {{propetyForm.value.currency_type}}
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <h4>Descripción</h4>
                                        <p class="opacity-50">{{propetyForm.value.description}}</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 border-round surface-200 mt-4">
                                <div class="grid px-4 py-0">
                                    <div class="col-12">
                                        <h2>Fotos</h2>
                                    </div>
                                    <div class="col-4" *ngFor="let file of _files">
                                        <p-image [src]="file.objectURL" alt="Image" imageClass="border-round"
                                            width="100%" [preview]="true">
                                        </p-image>
                                        <!-- 
                                        <img [src]="file.objectURL" alt="img" class="border-round w-full"> -->
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 border-round surface-200 mt-4">
                                <div class="grid px-4">
                                    <div class="col-12">
                                        <h2>Distribución</h2>
                                    </div>
                                    <div class="col-12">
                                        <div class="grid">
                                            <div class="col-4 text-center text-xl">
                                                <img src="/assets/icons/ruler.svg" class="mr-2" width="26rem"
                                                    alt="icon">
                                                Superficie: {{propetyForm.value.total_surface}}
                                                {{propetyForm.value.length_unit}}
                                            </div>
                                            <div class="col-4 text-center text-xl">
                                                <img src="/assets/icons/bed.svg" class="mr-2" width="26rem" alt="icon">
                                                Dormitorios: {{propetyForm.value.no_bedrooms}}
                                            </div>
                                            <div class="col-4 text-center text-xl">
                                                <img src="/assets/icons/shower.svg" class="mr-2" width="26rem"
                                                    alt="icon">
                                                Baños: {{propetyForm.value.no_bathrooms}}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 border-round surface-200 mt-4">
                                <div class="grid px-4">
                                    <div class="col-12">
                                        <h2>Áreas Adicionales</h2>
                                    </div>
                                    <div class="col-12">
                                        <div class="grid">
                                            <div *ngFor="let item of features">
                                                <div class="col text-left text-lg" *ngIf="item.isSelected">
                                                    <img src="/assets/icons/dot.svg" class="mr-2" width="14rem"
                                                        alt="icon">
                                                    <span>{{item.name}}</span><span
                                                        *ngIf="item.multiple">&nbsp;:&nbsp;{{item.quantity}}</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 border-round surface-200 mt-4">
                                <div class="grid px-4">
                                    <div class="col-12">
                                        <h2>Ubicación</h2>
                                        <p class="opacity-50">{{propetyForm.value.address}}</p>
                                        <p class="opacity-50">{{propetyForm.value.property_location}}</p>
                                    </div>
                                    <div class="col-12">

                                        <p-gmap [options]="optionsMapPreview" [overlays]="overlaysMapPreview"
                                            [style]="{'width':'100%','height':'320px'}"
                                            (onMapClick)="handleMapClick($event)">
                                        </p-gmap>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 border-round surface-200 mt-4">
                                <div class="grid px-4">
                                    <div class="col-12">
                                        <h2>Información del agente</h2>
                                    </div>
                                    <div class="col-12">
                                        <div class="grid">
                                            <div class="col-3">
                                                <h4><img src="/assets/icons/user.svg" class="mr-2" width="26rem"
                                                        alt="icon"><span class="opacity-50">{{user.name}}</span></h4>
                                                <h4><img src="/assets/icons/telephone_outline.svg" class="mr-2"
                                                        width="26rem" alt="icon"><span
                                                        class="opacity-50">{{user.phone_number}}</span>
                                                </h4>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </p-scrollPanel>
                </div>
                <!-- end preview -->
            </div>

        </div>
        <!-- End PricePage -->
        <!-- DataPage -->
        <div *ngSwitchCase="PageNames.DataPage">
            <div class="grid">
                <div class="col-12 sm:col-12 md:col-8 lg:col-4 surface-200">
                    <p-scrollPanel [style]="{width: '100%', height: '600px'}">
                        <div class="grid h-full m-0 surface-200">
                            <div class="col-12">
                                <div class="text-center">
                                    <h2 class="mb-0">Inmueble</h2>
                                    <p>Especifica las características del inmueble</p>
                                </div>
                            </div>
                            <div class="col-10 col-offset-1">
                                <div class="card">
                                    <div class="grid">
                                        <div class="col-12">
                                            <div class="grid text-center">
                                                <div class="col">
                                                    Dormitorios
                                                </div>
                                                <div class="col">
                                                    <button pButton type="button"
                                                        class="p-button-raised p-button-rounded p-button-outlined p-button-secondary w-2rem h-2rem"
                                                        icon="pi pi-minus" (click)="minusBedrooms()"></button>
                                                </div>
                                                <div class="col-3">
                                                    <input type="number" pInputText class="block w-full"
                                                        formControlName="no_bedrooms" placeholder="..."
                                                        [(ngModel)]="propetyForm.value.no_bedrooms"
                                                        readonly="readonly" />
                                                    <small class="text-red" *ngIf="fiedlIsValid('no_bedrooms')">El dato
                                                        es
                                                        requerido.</small>
                                                </div>
                                                <div class="col">
                                                    <button pButton type="button"
                                                        class="p-button-raised p-button-rounded p-button-outlined p-button-secondary w-2rem h-2rem"
                                                        icon="pi pi-plus" (click)="plusBedrooms()"></button>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12">
                                            <p-divider></p-divider>
                                        </div>
                                        <div class="col-12">
                                            <div class="grid text-center">
                                                <div class="col">
                                                    Baños
                                                </div>
                                                <div class="col">
                                                    <button pButton type="button"
                                                        class="p-button-raised p-button-rounded p-button-outlined p-button-secondary w-2rem h-2rem"
                                                        icon="pi pi-minus" (click)="minusBathrooms()"></button>
                                                </div>
                                                <div class="col-3">
                                                    <input type="number" pInputText class="block w-full"
                                                        formControlName="no_bathrooms" placeholder="..."
                                                        [(ngModel)]="propetyForm.value.no_bathrooms"
                                                        readonly="readonly" />
                                                    <small class="text-red" *ngIf="fiedlIsValid('no_bathrooms')">El dato
                                                        es
                                                        requerido.</small>
                                                </div>
                                                <div class="col">
                                                    <button pButton type="button"
                                                        class="p-button-raised p-button-rounded p-button-outlined p-button-secondary w-2rem h-2rem"
                                                        icon="pi pi-plus" (click)="plusBathrooms()"></button>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-12">
                                            <p-divider></p-divider>
                                        </div>
                                        <div *ngFor="let item of features">
                                            <div class="col-12" *ngIf="item.multiple">
                                                <div class="grid text-center">
                                                    <div class="col">
                                                        {{item.name}}
                                                    </div>
                                                    <div class="col">
                                                        <button pButton type="button"
                                                            class="p-button-raised p-button-rounded p-button-outlined p-button-secondary w-2rem h-2rem"
                                                            icon="pi pi-minus" (click)="minusFeature(item)"></button>
                                                    </div>
                                                    <div class="col-3">
                                                        <input type="number" pInputText class="block w-full"
                                                            [(ngModel)]="item.quantity"
                                                            [ngModelOptions]="{standalone: true}" readonly="readonly">
                                                    </div>
                                                    <div class="col">
                                                        <button pButton type="button"
                                                            class="p-button-raised p-button-rounded p-button-outlined p-button-secondary w-2rem h-2rem"
                                                            icon="pi pi-plus" (click)="plusFeature(item)"></button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-12">
                                            <p-divider></p-divider>
                                        </div>
                                        <div class="col-12">
                                            <label>*Superficie de terreno</label>
                                            <input type="number" pInputText class="block w-full"
                                                formControlName="total_surface" placeholder="..."
                                                [(ngModel)]="propetyForm.value.total_surface" />
                                            <small class="text-red" *ngIf="fiedlIsValid('total_surface')">El dato es
                                                requerido.</small>
                                        </div>
                                        <div class="col-12">
                                            <label>*Superficie de construcción</label>
                                            <input type="number" pInputText class="block w-full"
                                                formControlName="constructed_surface" placeholder="..."
                                                [(ngModel)]="propetyForm.value.constructed_surface" />
                                            <small class="text-red" *ngIf="fiedlIsValid('constructed_surface')">El dato
                                                es
                                                requerido.</small>
                                        </div>
                                        <div class="col-12 mb-6">
                                            <label>*Unidad</label><br>
                                            <select class="text-xl border-round h-3rem w-full"
                                                formControlName="length_unit"
                                                [(ngModel)]="propetyForm.value.length_unit">
                                                <option value="M2" selected> M2 </option>
                                            </select>
                                            <small class="text-red" *ngIf="fiedlIsValid('currency_type')">El dato es
                                                requerido.</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </p-scrollPanel>
                    <div class="grid  bg-white shadow-1">
                        <div class="col-12 p-0 m-0">
                            <p-progressBar [value]="progressBarValue" [style]="{'height': '6px'}" [showValue]="false">
                            </p-progressBar>
                        </div>
                        <div class="col-12 my-4">
                            <div class="grid">
                                <div class="col-5 text-center">
                                    <p-button label="ATRÁS"
                                        styleClass="p-button-danger p-button-rounded p-button-outlined p-button-sm p-button-block"
                                        [style]="{width: '75%'}" (click)="backDataPage()"></p-button>
                                </div>
                                <div class="col-5 col-offset-2 text-center">
                                    <p-button label="SIGUIENTE"
                                        styleClass="p-button-danger p-button-rounded p-button-sm p-button-block"
                                        [style]="{width: '75%'}" (click)="nextDataPage()">
                                    </p-button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- preview -->
                <div class="col-12 sm:col-12 md:col-8 lg:col-8 mt-2" style="height: 90vh;">
                    <p-scrollPanel [style]="{width: '100%', height: '100%'}">
                        <div class="grid mx-4">
                            <div class="col-12 text-center">
                                <h3 class="text-primary"><i class="pi pi-info-circle"></i> Vista previa de tu captación
                                </h3>
                            </div>
                            <div class="col-12 border-round surface-200">
                                <div class="grid px-4">
                                    <div class="col-10">
                                        <h2>
                                            {{propetyForm.value.title}}
                                        </h2>
                                        <h3>
                                            {{_property_type | titlecase }} en {{_offer_type | titlecase}},
                                            {{propetyForm.value.address}}
                                        </h3>
                                        <h4><img src="/assets/icons/pin_home.svg" class="mr-2" alt="icon"> <span
                                                class="opacity-50">Ubicación</span></h4>
                                    </div>
                                    <div class="col-2 text-center">
                                        <h4>{{_property_type}}</h4>
                                        <div class="grid">
                                            <div class="col-9">
                                                <input type="number" pInputText class="block w-full"
                                                    formControlName="price" [(ngModel)]="propetyForm.value.price"
                                                    placeholder="..." />
                                            </div>
                                            <div
                                                class="col-3 flex align-items-center justify-content-center opacity-50">
                                                {{propetyForm.value.currency_type}}
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <h4>Descripción</h4>
                                        <p class="opacity-50">{{propetyForm.value.description}}</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 border-round surface-200 mt-4">
                                <div class="grid px-4 py-0">
                                    <div class="col-12">
                                        <h2>Fotos</h2>
                                    </div>
                                    <div class="col-4" *ngFor="let file of _files">
                                        <p-image [src]="file.objectURL" alt="Image" imageClass="border-round"
                                            width="100%" [preview]="true">
                                        </p-image>
                                        <!-- 
                                        <img [src]="file.objectURL" alt="img" class="border-round w-full"> -->
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 border-round surface-200 mt-4">
                                <div class="grid px-4">
                                    <div class="col-12">
                                        <h2>Distribución</h2>
                                    </div>
                                    <div class="col-12">
                                        <div class="grid">
                                            <div class="col-4 text-center text-xl">
                                                <img src="/assets/icons/ruler.svg" class="mr-2" width="26rem"
                                                    alt="icon">
                                                Superficie: {{propetyForm.value.total_surface}}
                                                {{propetyForm.value.length_unit}}
                                            </div>
                                            <div class="col-4 text-center text-xl">
                                                <img src="/assets/icons/bed.svg" class="mr-2" width="26rem" alt="icon">
                                                Dormitorios: {{propetyForm.value.no_bedrooms}}
                                            </div>
                                            <div class="col-4 text-center text-xl">
                                                <img src="/assets/icons/shower.svg" class="mr-2" width="26rem"
                                                    alt="icon">
                                                Baños: {{propetyForm.value.no_bathrooms}}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 border-round surface-200 mt-4">
                                <div class="grid px-4">
                                    <div class="col-12">
                                        <h2>Áreas Adicionales</h2>
                                    </div>
                                    <div class="col-12">
                                        <div class="grid">
                                            <div *ngFor="let item of features">
                                                <div class="col text-left text-lg" *ngIf="item.isSelected">
                                                    <img src="/assets/icons/dot.svg" class="mr-2" width="14rem"
                                                        alt="icon">
                                                    <span>{{item.name}}</span><span
                                                        *ngIf="item.multiple">&nbsp;:&nbsp;{{item.quantity}}</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 border-round surface-200 mt-4">
                                <div class="grid px-4">
                                    <div class="col-12">
                                        <h2>Ubicación</h2>
                                        <p class="opacity-50">{{propetyForm.value.address}}</p>
                                        <p class="opacity-50">{{propetyForm.value.property_location}}</p>
                                    </div>
                                    <div class="col-12">

                                        <p-gmap [options]="optionsMapPreview" [overlays]="overlaysMapPreview"
                                            [style]="{'width':'100%','height':'320px'}"
                                            (onMapClick)="handleMapClick($event)">
                                        </p-gmap>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 border-round surface-200 mt-4">
                                <div class="grid px-4">
                                    <div class="col-12">
                                        <h2>Información del agente</h2>
                                    </div>
                                    <div class="col-12">
                                        <div class="grid">
                                            <div class="col-3">
                                                <h4><img src="/assets/icons/user.svg" class="mr-2" width="26rem"
                                                        alt="icon"><span class="opacity-50">{{user.name}}</span></h4>
                                                <h4><img src="/assets/icons/telephone_outline.svg" class="mr-2"
                                                        width="26rem" alt="icon"><span
                                                        class="opacity-50">{{user.phone_number}}</span>
                                                </h4>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </p-scrollPanel>
                </div>
                <!-- end preview -->
            </div>

        </div>
        <!-- End DataPage -->
        <!-- FeaturesPage -->
        <div *ngSwitchCase="PageNames.FeaturesPage">
            <div class="grid">
                <div class="col-12 sm:col-12 md:col-8 lg:col-4">
                    <p-scrollPanel [style]="{width: '100%', height: '650px', background:'#EEEEEE'}">
                        <div class="grid h-full m-0 surface-200">
                            <div class="col-12">
                                <div class="text-center">
                                    <h2 class="mb-0">Caracteristicas adicionales</h2>
                                    <p>Seleccione las comodidades y servicios con las que cuenta</p>
                                </div>
                            </div>
                            <div class="col-8 col-offset-2">
                                <div class="grid mb-6">
                                    <div class="col-6" *ngFor="let item of features">
                                        <div *ngIf="!item.multiple">
                                            <div class="text-center border-1 border-1 border-round mx-4 bg-white shadow-1 cursor-pointer"
                                                (click)="item.styleActive = !item.styleActive ; selectFeature(item,1)"
                                                [ngClass]="item.styleActive ? 'feature-selected' : ''">
                                                <img [src]="baseUrl+'/'+item.icon" alt="img" width="35%" class="mt-4">
                                                <h5>
                                                    {{item.name}}
                                                </h5>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </p-scrollPanel>
                    <div class="grid  bg-white shadow-1">
                        <div class="col-12 p-0 m-0">
                            <p-progressBar [value]="progressBarValue" [style]="{'height': '6px'}" [showValue]="false">
                            </p-progressBar>
                        </div>
                        <div class="col-12 my-4">
                            <div class="grid">
                                <div class="col-5 text-center">
                                    <p-button label="ATRÁS"
                                        styleClass="p-button-danger p-button-rounded p-button-outlined p-button-sm p-button-block"
                                        [style]="{width: '75%'}" (click)="backFeaturesPage()"></p-button>
                                </div>
                                <div class="col-5 col-offset-2 text-center">
                                    <p-button label="PUBLICAR"
                                        styleClass="p-button-danger p-button-rounded p-button-sm p-button-block"
                                        [style]="{width: '75%'}" (click)="publish()">
                                    </p-button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- preview -->
                <div class="col-12 sm:col-12 md:col-8 lg:col-8 mt-2" style="height: 90vh;">
                    <p-scrollPanel [style]="{width: '100%', height: '100%'}">
                        <div class="grid mx-4">
                            <div class="col-12 text-center">
                                <h3 class="text-primary"><i class="pi pi-info-circle"></i> Vista previa de tu captación
                                </h3>
                            </div>
                            <div class="col-12 border-round surface-200">
                                <div class="grid px-4">
                                    <div class="col-10">
                                        <h2>
                                            {{propetyForm.value.title}}
                                        </h2>
                                        <h3>
                                            {{_property_type | titlecase }} en {{_offer_type | titlecase}},
                                            {{propetyForm.value.address}}
                                        </h3>
                                        <h4><img src="/assets/icons/pin_home.svg" class="mr-2" alt="icon"> <span
                                                class="opacity-50">Ubicación</span></h4>
                                    </div>
                                    <div class="col-2 text-center">
                                        <h4>{{_property_type}}</h4>
                                        <div class="grid">
                                            <div class="col-9">
                                                <input type="number" pInputText class="block w-full"
                                                    formControlName="price" [(ngModel)]="propetyForm.value.price"
                                                    placeholder="..." />
                                            </div>
                                            <div
                                                class="col-3 flex align-items-center justify-content-center opacity-50">
                                                {{propetyForm.value.currency_type}}
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-12">
                                        <h4>Descripción</h4>
                                        <p class="opacity-50">{{propetyForm.value.description}}</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 border-round surface-200 mt-4">
                                <div class="grid px-4 py-0">
                                    <div class="col-12">
                                        <h2>Fotos</h2>
                                    </div>
                                    <div class="col-4" *ngFor="let file of _files">
                                        <p-image [src]="file.objectURL" alt="Image" imageClass="border-round"
                                            width="100%" [preview]="true">
                                        </p-image>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 border-round surface-200 mt-4">
                                <div class="grid px-4">
                                    <div class="col-12">
                                        <h2>Distribución</h2>
                                    </div>
                                    <div class="col-12">
                                        <div class="grid">
                                            <div class="col-4 text-center text-xl">
                                                <img src="/assets/icons/ruler.svg" class="mr-2" width="26rem"
                                                    alt="icon">
                                                Superficie: {{propetyForm.value.total_surface}}
                                                {{propetyForm.value.length_unit}}
                                            </div>
                                            <div class="col-4 text-center text-xl">
                                                <img src="/assets/icons/bed.svg" class="mr-2" width="26rem" alt="icon">
                                                Dormitorios: {{propetyForm.value.no_bedrooms}}
                                            </div>
                                            <div class="col-4 text-center text-xl">
                                                <img src="/assets/icons/shower.svg" class="mr-2" width="26rem"
                                                    alt="icon">
                                                Baños: {{propetyForm.value.no_bathrooms}}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 border-round surface-200 mt-4">
                                <div class="grid px-4">
                                    <div class="col-12">
                                        <h2>Áreas Adicionales</h2>
                                    </div>
                                    <div class="col-12">
                                        <div class="grid">
                                            <div *ngFor="let item of features">
                                                <div class="col text-left text-lg" *ngIf="item.isSelected">
                                                    <img src="/assets/icons/dot.svg" class="mr-2" width="14rem"
                                                        alt="icon">
                                                    <span>{{item.name}}</span><span
                                                        *ngIf="item.multiple">&nbsp;:&nbsp;{{item.quantity}}</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 border-round surface-200 mt-4">
                                <div class="grid px-4">
                                    <div class="col-12">
                                        <h2>Ubicación</h2>
                                        <p class="opacity-50">{{propetyForm.value.address}}</p>
                                        <p class="opacity-50">{{propetyForm.value.property_location}}</p>
                                    </div>
                                    <div class="col-12">

                                        <p-gmap [options]="optionsMapPreview" [overlays]="overlaysMapPreview"
                                            [style]="{'width':'100%','height':'320px'}"
                                            (onMapClick)="handleMapClick($event)">
                                        </p-gmap>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 border-round surface-200 mt-4">
                                <div class="grid px-4">
                                    <div class="col-12">
                                        <h2>Información del agente</h2>
                                    </div>
                                    <div class="col-12">
                                        <div class="grid">
                                            <div class="col-3">
                                                <h4><img src="/assets/icons/user.svg" class="mr-2" width="26rem"
                                                        alt="icon"><span class="opacity-50">{{user.name}}</span></h4>
                                                <h4><img src="/assets/icons/telephone_outline.svg" class="mr-2"
                                                        width="26rem" alt="icon"><span
                                                        class="opacity-50">{{user.phone_number}}</span>
                                                </h4>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </p-scrollPanel>
                </div>
                <!-- end preview -->
            </div>

        </div>
        <!-- End FeaturesPage -->

    </div>
</form>